=================================================================
        RISC-V Assembly Simulator - Executor Test
=================================================================

[STEP 1] Parsing assembly file...
[OK] Loaded 14 instructions
[00] lw x2, 0(x0)
[01] lw x3, 4(x0)
[02] sll x4, x2, x3
[03] srl x5, x2, x3
[04] sra x6, x2, x3
[05] and x7, x2, x3
[06] or x8, x2, x3
[07] xor x9, x2, x3
[08] sw x4, 8(x0)
[09] sw x5, 12(x0)
[10] sw x6, 16(x0)
[11] sw x7, 20(x0)
[12] sw x8, 24(x0)
[13] sw x9, 28(x0)
DATA[00] val1 = 15 @ address 0
DATA[01] val2 = 2 @ address 4

[STEP 2] Initializing memory...
[OK] Memory initialized (size: 400 bytes)

[STEP 3] Encoding instructions...
[00] lw x2, 0(x0)[ENCODE] LW x2, 0(x0) -> 0x00002103
 -> encoded: 0x00002103
[01] lw x3, 4(x0)[ENCODE] LW x3, 4(x0) -> 0x00402183
 -> encoded: 0x00402183
[02] sll x4, x2, x3[ENCODE] sll x4, x2, x3 -> 0x00311233
 -> encoded: 0x00311233
[03] srl x5, x2, x3[ENCODE] srl x5, x2, x3 -> 0x003152B3
 -> encoded: 0x003152B3
[04] sra x6, x2, x3[ENCODE] sra x6, x2, x3 -> 0x40315333
 -> encoded: 0x40315333
[05] and x7, x2, x3[ENCODE] and x7, x2, x3 -> 0x003173B3
 -> encoded: 0x003173B3
[06] or x8, x2, x3[ENCODE] or x8, x2, x3 -> 0x00316433
 -> encoded: 0x00316433
[07] xor x9, x2, x3[ENCODE] xor x9, x2, x3 -> 0x003144B3
 -> encoded: 0x003144B3
[08] sw x4, 8(x0)[ENCODE] SW x4, 8(x0) -> 0x00402423
 -> encoded: 0x00402423
[09] sw x5, 12(x0)[ENCODE] SW x5, 12(x0) -> 0x00502623
 -> encoded: 0x00502623
[10] sw x6, 16(x0)[ENCODE] SW x6, 16(x0) -> 0x00602823
 -> encoded: 0x00602823
[11] sw x7, 20(x0)[ENCODE] SW x7, 20(x0) -> 0x00702A23
 -> encoded: 0x00702A23
[12] sw x8, 24(x0)[ENCODE] SW x8, 24(x0) -> 0x00802C23
 -> encoded: 0x00802C23
[13] sw x9, 28(x0)[ENCODE] SW x9, 28(x0) -> 0x00902E23
 -> encoded: 0x00902E23
[OK] Encoded 14/14 instructions

[STEP 4] Loading program into memory...
[OK] Program loaded at address 0x00000000

[STEP 4B] Loading data section into memory...
[OK] Data loaded starting at address 0x00000038
[OK] Data loaded at address 0x00000038

[DEBUG] Memory dump after loading:
00000000: 00002103
00000004: 00402183
00000008: 00311233
0000000c: 003152b3
00000010: 40315333
00000014: 003173b3
00000018: 00316433
0000001c: 003144b3
00000020: 00402423
00000024: 00502623
00000028: 00602823
0000002c: 00702a23
00000030: 00802c23
00000034: 00902e23
00000038: 0000000f
0000003c: 00000002
00000040: 00000000
00000044: 00000000
00000048: 00000000
0000004c: 00000000
00000050: 00000000
00000054: 00000000
00000058: 00000000
0000005c: 00000000
00000060: 00000000
00000064: 00000000
00000068: 00000000
0000006c: 00000000
00000070: 00000000
00000074: 00000000
00000078: 00000000
0000007c: 00000000
00000080: 00000000
00000084: 00000000
00000088: 00000000
0000008c: 00000000
00000090: 00000000
00000094: 00000000
00000098: 00000000
0000009c: 00000000
000000a0: 00000000
000000a4: 00000000
000000a8: 00000000
000000ac: 00000000
000000b0: 00000000
000000b4: 00000000
000000b8: 00000000
000000bc: 00000000
000000c0: 00000000
000000c4: 00000000
000000c8: 00000000
000000cc: 00000000
000000d0: 00000000
000000d4: 00000000
000000d8: 00000000
000000dc: 00000000
000000e0: 00000000
000000e4: 00000000
000000e8: 00000000
000000ec: 00000000
000000f0: 00000000
000000f4: 00000000
000000f8: 00000000
000000fc: 00000000
00000100: 00000000
00000104: 00000000
00000108: 00000000
0000010c: 00000000
00000110: 00000000
00000114: 00000000
00000118: 00000000
0000011c: 00000000

[STEP 5] Initializing CPU...
[OK] CPU initialized

[DEBUG] Initial CPU state:

=== CPU STATE ===
PC: 0x00000000
Instructions executed: 0
Halted: NO
Error: NO

=== REGISTERS ===
PC: 0x00000000
x00: 0x00000000 (          0) | x01: 0x00000000 (          0)
x02: 0x00000000 (          0) | x03: 0x00000000 (          0)
x04: 0x00000000 (          0) | x05: 0x00000000 (          0)
x06: 0x00000000 (          0) | x07: 0x00000000 (          0)
x08: 0x00000000 (          0) | x09: 0x00000000 (          0)
x10: 0x00000000 (          0) | x11: 0x00000000 (          0)
x12: 0x00000000 (          0) | x13: 0x00000000 (          0)
x14: 0x00000000 (          0) | x15: 0x00000000 (          0)
x16: 0x00000000 (          0) | x17: 0x00000000 (          0)
x18: 0x00000000 (          0) | x19: 0x00000000 (          0)
x20: 0x00000000 (          0) | x21: 0x00000000 (          0)
x22: 0x00000000 (          0) | x23: 0x00000000 (          0)
x24: 0x00000000 (          0) | x25: 0x00000000 (          0)
x26: 0x00000000 (          0) | x27: 0x00000000 (          0)
x28: 0x00000000 (          0) | x29: 0x00000000 (          0)
x30: 0x00000000 (          0) | x31: 0x00000000 (          0)


[STEP 6] Executing program...
-----------------------------------------------------------------

=== Starting CPU Execution ===

[STEP 0] PC=0x00000000, Instruction=0x00002103
[DECODE DISPATCH] Opcode=0x03
[DECODE] I-Type: funct3=0x2, rs1=0, rd=2, imm=0
[EXEC] LW x2, 0(x0) -> Load from 0x00000038 = 0x0000000F

[STEP 1] PC=0x00000004, Instruction=0x00402183
[DECODE DISPATCH] Opcode=0x03
[DECODE] I-Type: funct3=0x2, rs1=0, rd=3, imm=4
[EXEC] LW x3, 4(x0) -> Load from 0x0000003C = 0x00000002

[STEP 2] PC=0x00000008, Instruction=0x00311233
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x00, rs2=3, rs1=2, funct3=0x1, rd=4
[EXEC] SLL x4, x2, x3 -> x4 = 0x0000003C (rs1=0x0000000F, rs2=0x00000002)

[STEP 3] PC=0x0000000C, Instruction=0x003152B3
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x00, rs2=3, rs1=2, funct3=0x5, rd=5
[EXEC] SRL x5, x2, x3 -> x5 = 0x00000003 (rs1=0x0000000F, rs2=0x00000002)

[STEP 4] PC=0x00000010, Instruction=0x40315333
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x20, rs2=3, rs1=2, funct3=0x5, rd=6
[EXEC] SRA x6, x2, x3 -> x6 = 0x00000003 (rs1=0x0000000F, rs2=0x00000002)

[STEP 5] PC=0x00000014, Instruction=0x003173B3
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x00, rs2=3, rs1=2, funct3=0x7, rd=7
[EXEC] AND x7, x2, x3 -> x7 = 0x00000002 (rs1=0x0000000F, rs2=0x00000002)

[STEP 6] PC=0x00000018, Instruction=0x00316433
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x00, rs2=3, rs1=2, funct3=0x6, rd=8
[EXEC] OR x8, x2, x3 -> x8 = 0x0000000F (rs1=0x0000000F, rs2=0x00000002)

[STEP 7] PC=0x0000001C, Instruction=0x003144B3
[DECODE DISPATCH] Opcode=0x33
[DECODE] R-Type: funct7=0x00, rs2=3, rs1=2, funct3=0x4, rd=9
[EXEC] XOR x9, x2, x3 -> x9 = 0x0000000D (rs1=0x0000000F, rs2=0x00000002)

[STEP 8] PC=0x00000020, Instruction=0x00402423
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x4, 8(x0) -> Store 0x0000003C to 0x00000040

[STEP 9] PC=0x00000024, Instruction=0x00502623
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x5, 12(x0) -> Store 0x00000003 to 0x00000044

[STEP 10] PC=0x00000028, Instruction=0x00602823
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x6, 16(x0) -> Store 0x00000003 to 0x00000048

[STEP 11] PC=0x0000002C, Instruction=0x00702A23
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x7, 20(x0) -> Store 0x00000002 to 0x0000004C

[STEP 12] PC=0x00000030, Instruction=0x00802C23
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x8, 24(x0) -> Store 0x0000000F to 0x00000050

[STEP 13] PC=0x00000034, Instruction=0x00902E23
[DECODE DISPATCH] Opcode=0x23
[DECODE] S-Type (placeholder)
[EXEC] SW x9, 28(x0) -> Store 0x0000000D to 0x00000054
[INFO] cpu_step: PC (0x00000038) reached end of program (program size: 56 bytes)

=== CPU Execution Finished ===
Total instructions executed: 14
-----------------------------------------------------------------

[DEBUG] Memory dump (data region) after execution:
00000038: 0000000f
0000003c: 00000002
00000040: 0000003c
00000044: 00000003
00000048: 00000003
0000004c: 00000002
00000050: 0000000f
00000054: 0000000d

[STEP 7] Final CPU state:
-----------------------------------------------------------------

=== CPU STATE ===
PC: 0x00000038
Instructions executed: 14
Halted: YES
Error: NO

=== REGISTERS ===
PC: 0x00000038
x00: 0x00000000 (          0) | x01: 0x00000000 (          0)
x02: 0x0000000F (         15) | x03: 0x00000002 (          2)
x04: 0x0000003C (         60) | x05: 0x00000003 (          3)
x06: 0x00000003 (          3) | x07: 0x00000002 (          2)
x08: 0x0000000F (         15) | x09: 0x0000000D (         13)
x10: 0x00000000 (          0) | x11: 0x00000000 (          0)
x12: 0x00000000 (          0) | x13: 0x00000000 (          0)
x14: 0x00000000 (          0) | x15: 0x00000000 (          0)
x16: 0x00000000 (          0) | x17: 0x00000000 (          0)
x18: 0x00000000 (          0) | x19: 0x00000000 (          0)
x20: 0x00000000 (          0) | x21: 0x00000000 (          0)
x22: 0x00000000 (          0) | x23: 0x00000000 (          0)
x24: 0x00000000 (          0) | x25: 0x00000000 (          0)
x26: 0x00000000 (          0) | x27: 0x00000000 (          0)
x28: 0x00000000 (          0) | x29: 0x00000000 (          0)
x30: 0x00000000 (          0) | x31: 0x00000000 (          0)

-----------------------------------------------------------------

[SUMMARY]
  Program instructions: 14
  Instructions executed: 14
  Final PC: 0x00000038
  CPU halted: YES
  CPU error: NO

[CLEANUP] Freeing memory...
[OK] Cleanup complete

=================================================================
                    Execution Completed
=================================================================
